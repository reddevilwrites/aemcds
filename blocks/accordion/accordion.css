/* 1. Main Block Reset */
.accordion {
  width: 100%;
  border-top: 1px solid #ccc;
  box-sizing: border-box;
}

/* 2. Item Container */
.accordion details {
  border-bottom: 1px solid #ccc;
  margin: 0;
  /* SAFETY FIX: Ensure the container itself allows normal flow */
  white-space: normal; 
}

/* 3. HEADER (Summary) - STRICT TRUNCATION */
.accordion details summary {
  padding: 1rem 3rem 1rem 0;
  font-weight: 600;
  cursor: pointer;
  position: relative;
  list-style: none;
  
  /* FORCE SINGLE LINE (Truncation) */
  display: block;          /* Vital for text-overflow to work */
  width: 100%;             /* Ensure it takes full width */
  white-space: nowrap;     /* Force text to one line */
  overflow: hidden;        /* Hide the rest */
  text-overflow: ellipsis; /* Add "..." */
}

/* Chrome/Safari marker fix */
.accordion details summary::-webkit-details-marker {
  display: none;
}

/* 4. CONTENT BODY - STRICT WRAPPING (The Fix) */
/* We target the div immediately following the summary */
.accordion details summary + div,
.accordion details summary + p {
  padding: 1rem 0;
  color: #555;
  line-height: 1.6;

  /* FORCE MULTI-LINE (Wrapping) */
  /* This overrides any parent 'nowrap' rules */
  white-space: normal !important; 
  overflow: visible !important;
  text-overflow: clip !important;
  height: auto !important;
  width: 100%;
}

/* 5. Chevron Icon */
.accordion details summary::after {
  content: '';
  position: absolute;
  right: 1rem;
  top: 50%;
  transform: translateY(-50%) rotate(45deg);
  width: 8px;
  height: 8px;
  border-right: 2px solid #333;
  border-bottom: 2px solid #333;
  transition: transform 0.2s ease;
}

.accordion details[open] summary::after {
  transform: translateY(-50%) rotate(225deg);
}